import{d as f,i as h,r as p,w as v,u as s,o as a,c as r,a as i,t as d,F as _,b as y,e as k,_ as q,Q as m,f as w,g,v as C,h as x}from"./index-CI5lgaiY.js";function B(l){return l&&l.trim().split(" ").map(e=>{const u=e.toLowerCase();return e.charAt(0).toUpperCase()+u.slice(1)}).join(" ")}const T={key:0},V={key:0},L={key:1},M=f({__name:"BaseTable",props:{query:{},tableable_key:{}},setup(l){const t=l,e=h(t.tableable_key);if(!e)throw new Error(`Tableable service key not valid: ${t.tableable_key}`);let u=p([]),o=p("");return v(()=>t.query,async()=>{const n=await e.list(t.query);n.success?(u.value=n.data??[],o.value=""):(u.value=[],o.value=n.error_message??""),console.log(n)},{immediate:!0,deep:!0}),(n,j)=>s(e)?(a(),r("table",T,[i("caption",null,d(s(B)(s(e).name))+" Table",1),i("thead",null,[i("tr",null,[(a(!0),r(_,null,y(s(e).cols,c=>(a(),r("th",{key:c,scope:"col"},d(c),1))),128))])]),s(o)?(a(),r("div",L,d(s(o)),1)):(a(),r("tbody",V,[(a(!0),r(_,null,y(s(u),c=>(a(),r("tr",{key:c.id},[(a(!0),r(_,null,y(s(e).row(c),b=>(a(),r("td",{key:b},d(b),1))),128))]))),128))]))])):k("",!0)}}),N=q(M,[["__scopeId","data-v-02209a5f"]]),$={class:"form"},E=f({__name:"ConstructListView",props:{query:{default:m.create({search:""})},queryModifiers:{}},emits:["update:query"],setup(l){w(l,"query");const t=p({query:m.create({search:""})}),e=()=>{console.log(t.value.query.search)};return(u,o)=>(a(),r("div",$,[g(i("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>t.value.query.search=n)},null,512),[[C,t.value.query.search]]),i("button",{onClick:e},"search"),x(N,{query:t.value.query,tableable_key:"table-construct"},null,8,["query"])]))}});export{E as default};
